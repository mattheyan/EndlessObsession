
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>The Endless Obsession</title>
  <meta name="author" content="Bryan Matthews">

  
  <meta name="description" content="As a follow up to my Brief Introduction to ExoWeb, I would like to go into more detail about the communications between client and server. The &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://endlessobsession.heroku.com/blog/page/2">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="The Endless Obsession" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">The Endless Obsession</a></h1>
  
    <h2>better code</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:endlessobsession.heroku.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <!--<li><a href="/guides">Guides</a></li>-->
  <li><a href="/about">About</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/into-to-client-server-mapping-in-exoweb">Intro to Client-Server Mapping in ExoWeb</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-10T10:28:34-05:00" pubdate data-updated="true">Jan 10<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>As a follow up to my <a href="www.google.com">Brief Introduction to ExoWeb</a>, I would like to go into more detail about the communications between client and server.</p>

<p>The client interacts with the server in two basic ways.</p>

<ol>
<li><p>Pulling information: type and instance data.</p></li>
<li><p>Pushing information: changes to the model and/or instructions to do something.</p></li>
</ol>


<p>The first type, pulling information, is pretty straightforward. Type information doesn’t change (frequently) so it is actually cached on the client if possible. Querying for instance data is similar to querying a database. You request an object of a particular type with a particular id, but you can also include a set of paths that tell the services what additional related data you are interested in. The primary component of a query might look something like this.</p>

<pre><code>{ from: "Person", id: "1", and: ["this.Additional.Properties.To.Load"] }
</code></pre>

<p>The second type, pushing information, gets a little more interesting. If you’re going to sync data between two disconnected systems there are two primary approaches that you might take. First, you could send simple data from point A to point B, manipulate it, then send it back from point B to point A in the same form. As you could imagine this can get pretty expensive and tedious. Of course, you might just send the portions of data that have changed to cut down on overhead. The bigger problem, I think, is that you don’t really know what has happened unless you do full graph comparisons. Another approach is to keep track of <em>changes</em> as they occur and send those back and forth. This is what ExoWeb does.</p>

<pre><code>changes: [ { type: "ValueChange", instance: { id: "1", type: "Person" }, property: "FirstName", oldValue: "Rob", newValue: "Robert" }, ... } ]
</code></pre>

<p>The client can also raise events, for example “save”, a built-in event. In response, the server can send back additional changes to the model.</p>

<pre><code>changes: [ { type: "Save", idChanges: [ { type: "Person", from: "?4", to: "644" } ] }, ... ]
</code></pre>

<p>The payload isn’t limited to data. It can also include conditions, for example, permissions, or invalid data conditions. More on that later.</p>

<p>This has been a very basic introduction to the way client-server communication works in ExoWeb. Look out for more updates in the future.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/a-brief-introduction-to-exoweb">A Brief Introduction to ExoWeb</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-10T07:54:17-05:00" pubdate data-updated="true">Jan 10<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://mattheyan.posterous.com/2010/12/07/exo-suite-and-client-scripts-on-github">A while back</a> I talked about the ExoWeb project and scripts that are now hosted on github.  That post was a little vague because not much has been documented about what you can actually do with ExoWeb.  That’s what I hope to do here.</p>

<p>First off, let me restate the purpose of ExoWeb as simply as I can.  ExoWeb exists to bridge the gap between the client and server.  You can think of it as a combination client-server mapper and model-view mapper.</p>

<h2>Client Server Mapping</h2>

<p>When I say that ExoWeb is a client-server mapper what I mean is that it handles mapping from an object model on the server to the client (and vice versa) in much the same way that an ORM maps from a database schema to an object model.  The general idea is that you’re persisting objects and that you would like to be able to easily manipulate those objects in JavaScript code, without any extra work.</p>

<p>For example, say you have a C# class that is persisted to a database using your choice of ORM.</p>

<pre><code>public class Person
{
    public string FirstName { get; set; }
    public string LastName { get; set; }
    public string FullName
    {
        get
        {
            return FirstName + " " + LastName;
        }
    }
}
</code></pre>

<p>You would want to be able to write JavaScript code to modify this object like so (ignoring the details of the syntax [1]).</p>

<pre><code>person.set_FirstName("Bob");
</code></pre>

<p>ExoWeb aims to let you do this with very little effort.</p>

<p>What are some of the things that you might want to do with the model?</p>

<ul>
<li><p>Have the full name automatically reflect the fact that the first name is now “Bob”</p></li>
<li><p>Save these changes by simply calling a method</p></li>
<li><p>“Round trip” to the server to perform complex or sensitive operations</p></li>
<li><p>Display the person’s information in a view</p></li>
</ul>


<p>…which leads us to the next primary area of functionality.</p>

<h2>View Model Mapping</h2>

<p>You have a model on the client, so now you want to display some information to the user and possibly accept input.  What are some of the tools that you might want to have at your disposal?</p>

<ul>
<li><p>Create regions in your form that correspond to lists in the model</p></li>
<li><p>Two-way binding of properties to inputs elements and form regions</p></li>
<li><p>Respond to changes and redraw parts of the form as needed</p></li>
<li><p>Attach behavior to the form such as clicking links, toggling regions, etc</p></li>
<li><p>Take advantage of model metadata like formats, allowed values, validation rules, etc</p></li>
<li><p>Allow for lazy loading of certain information when it is needed on the form</p></li>
</ul>


<p>That’s a glance at the basic features that we want from ExoWeb.  So, what does it actually look like?</p>

<p><em>Disclaimer:  ExoWeb is under heavy development, so this stuff is always changing.  Feedback is welcome.</em></p>

<h2>Setting up a Page</h2>

<p>First off we have to include the ExoWeb script(s).  Take a look at the <a href="http://github.com/mattheyan/exoweb">github repo</a> to see what’s available.  The “dist” folder contains 3 scripts: exoweb-msajax.js, exoweb-msajax-nojquery.js, and jquery.exoweb-msajax.js.  For now we’ll just include exoweb-msajax.js.  ExoWeb currently also requires jQuery (1.3 or 1.4) and the MsAjax client libraries (specifically, MicrosoftAjax.js and MicrosoftAjaxTemplates.js).  These will be included in the repo in the near future.</p>

<p><em>Side note:  ExoWeb currently uses the MsAjax client libraries, primarily for two purposes: observer and integrated template rendering.  In the near future these dependencies should be isolated so that other implementations could be used.  For example, better integration with jQuery is a personal goal of mine.</em></p>

<p>Now that we have the right scripts included we need to set up the page’s context.  This tells ExoWeb what data to load and what to do before and after it is loaded.  We do this by calling the $exoweb function.  It accepts a JavaScript object with any of the following properties.</p>

<ul>
<li><p>model: A JavaScript object that defines the data to load from the server.</p></li>
<li><p>types: An array of types to load.  This is usually not needed since types are automatically loaded based on the “model” parameter.</p></li>
<li><p>init:  A function that is invoked as soon as model or type data has been requested.</p></li>
<li><p>contextReady: A function that is invoked as soon as the model or type data has been loaded, but before the UI is rendered.</p></li>
<li><p>domReady: A function that is invoked after the UI has been rendered.</p></li>
</ul>


<p>You can call $exoweb any number of times, and as an example our query might look something like this (please forgive the contrived example).</p>

<pre><code>$exoweb({
    init: function() {
        ExoWeb.UI.Template.load("/path/to/template");
    },
    types: [
        {
            from: "CustomWidget",
            and: ["this.CustomInformation"]
        }
    ],
    model: {
        widget: {
            from: "Widget",
            id: "1",
            and: ["this.Type.DefaultPrice"]
        }
    },
    contextReady: function() {
        context.model.widget.doSomething();
    },
    domReady: function() {
        $(".widget input[type=button].save").click(function() {
            context.server.save(context.model.widget);
        });
    }
});
</code></pre>

<p>During init we want to load an external template file.  I will talk more about this in the future, but for now I will say that ExoWeb allows you to bind parts of your form to a dynamic template that is selected based on the HTML element and the data that will be rendered.  This allows you to break out reusable templates for common display scenarios, but it also allows your form to be dynamic in the sense that the markup can change automatically based on user input.</p>

<p>The types and model portions are what trigger requests to the server.  This will load up all of the metadata that is needed, as well as the instance data for the instances and paths that you specify.  When the context is ready it will have a model property that contains a property for each thing that you requested (in this case, the widget).</p>

<p>Context ready allows you to perform custom operations after all of your data is loaded.  For example, if you have an add/edit page you can perform setup logic that may be needed only in the add scenario.</p>

<p>DOM ready is a good place to put any DOM manipulation code that is specific to your page and it’s data and templates.  For general UI behavior I would recommend using jQuery to attach behavior as needed based on css selectors (a topic for another day).  Notice here the use of the “server” object, which is found on the context.  The server object allows you to save, round trip, raise events, and inspect the changes that have occurred.</p>

<p>Now, to display this on the form we might write something like this.</p>

<pre><code>&lt;div class="sys-template widget" sys:attach="dataview"
    dataview:data="{~ context.model.widget, source= }"&gt;
    &lt;h3&gt;Editing &lt;span&gt;{binding Name}&lt;/span&gt;&lt;/h3&gt;
    &lt;div class="sys-template" sys:attach="dataview" dataview:data="{@ Type }"&gt;
        &lt;label&gt;Type:&lt;/label&gt;
        &lt;select class="sys-template" sys:value="{binding systemValue}"
            sys:attach="dataview" dataview:data="{binding options}"&gt;
            &lt;option value="{binding systemValue}"&gt;{binding displayValue}
                &lt;/option&gt;
        &lt;/select&gt;
    &lt;/div&gt;
    &lt;div class="sys-template" sys:attach="dataview" dataview:data="{@ Price }"&gt;
        &lt;label&gt;Price:&lt;/label&gt;
        &lt;input type="text" sys:value="{binding displayValue}" /&gt;
    &lt;/div&gt;
    &lt;input type="button" class="save" value="Save" /&gt;
&lt;/div&gt;
</code></pre>

<p>The form is not rendered until the “widget” object has been loaded.  Also, notice the “@” extension that is used to incorporate metadata in the form.  For a pick list it will give you the list of options for a particular property.  Also, for other properties it allows you to automatically convert from and to a “system” or “display” format.  In a nutshell, the “display” format is a human-readable form of the underlying data that also includes format conditions for things like email, phone number, etc, while the “system” format is not intended to be shown to a user but instead can be used to uniquely identify an object.</p>

<p>This has been a very brief introduction to ExoWeb.  There is much more to talk about and you can expect follow up posts in the near future.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/getting-started-with-virtualenvwrapper">Getting Started With Virtualenvwrapper</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-20T21:22:33-05:00" pubdate data-updated="true">Dec 20<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A while back I toyed with using <a href="http://pypi.python.org/pypi/virtualenv">virtualenv</a> and <a href="http://www.doughellmann.com/projects/virtualenvwrapper/">virtualenvwrapper</a> to manage isolated python packages for development, but I didn&#8217;t get very far at the time.  Recently I&#8217;ve been dabbling in ruby and have used <a href="http://rvm.beginrescueend.com/">RVM</a> to manage ruby environments and gems.  This experience has been a positive one, so I decided to revisit virtualenvwrapper to see how it would compare.</p>

<h2>Installing</h2>

<p><em>Note that I have tested this process on Ubuntu 10.04 and 11.04.  I have not tested on other environments.  Windows setup may follow in a later post.</em></p>

<p><strong>The basic steps that I used are&#8230;</strong></p>

<ul>
<li><p>Install python</p></li>
<li><p>Install virtualenv</p></li>
<li><p>Install virtualenvwrapper</p></li>
<li><p>Configure virtualenvwrapper</p></li>
<li><p>Create a new virtual environment</p></li>
<li><p>Install packages</p></li>
</ul>


<p>A script to accomplish most of this can be found <a href="http://github.com/mattheyan/environment">here</a> @<em>/linux/virtualenvwrapper.sh</em>.</p>

<h4>1) Make sure that the script can be executed:</h4>

<p><code>sudo chmod +x virtualenvwrapper.sh</code></p>

<h4>2) Execute the script:</h4>

<p><code>./virtualenvwrapper.sh</code></p>

<h4>3) Initialize virtualenvwrapper:</h4>

<p>The script mentioned above adds the following to ~/.bashrc, but will not take effect until you open a new terminal window.  I&#8217;m sure there&#8217;s a way to avoid having to do this.  In the code below, ~/.virtualenvs can be changed to any path you wish.  Also, the path may vary (<a href="http://www.doughellmann.com/docs/virtualenvwrapper/install.html#comment-83318419">link</a>).</p>

<p><code>export WORKON_HOME=~/.virtualenvs
source /usr/local/bin/virtualenvwrapper.sh
</code></p>

<h4>4) Create a new environment:</h4>

<p><code>mkvirtualenv env</code></p>

<h4>5) Begin working on your new environment:</h4>

<p><code>workon env</code></p>

<h4>6) Install packages</h4>

<p>This can be done using pip (or easy_install, I believe) and the packages are installed in $WORKON_HOME/env/&#8230;</p>

<p>You can list all of your required packages in a single pip requirements file and install at once.</p>

<p><strong>Example:</strong></p>

<p>Django==1.1.2
django-tagging==0.3.1
South==0.7.1</p>

<p>Then, use pip to install the packages:</p>

<p><code>pip install -r /path/to/requirements</code></p>

<p><em>Update 12/29/2010:  Using a specific version of python would be nice, especially since it&#8217;s something that can be done easy enough with <a href="http://rvm.beginrescueend.com/">RVM</a>.  I will be investigating this so look out for a future post on the topic.</em></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/i-wish-i-could-remember-what-amnesia-is">I Wish I Could Remember What Amnesia Is&#8230;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-07T19:12:16-05:00" pubdate data-updated="true">Dec 7<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>One of my coworkers, Matt Hooper, recently released an open source project called Amnesia.  The aim of Amnesia is to &#8220;transacts all changes to a website to facilitate automated UI testing&#8221;.  Basically, you can run your tests and change and add data all day long and the changes, whether they come from the website or the tests themselves, will not last beyond the scope of the test.  Pretty cool, huh?</p>

<p>The blog post where he announced it can be found <a href="http://mhoop.wordpress.com/2010/11/23/amnesia-1-0-released-database-rollbacks-for-automated-ui-tests/">here</a>, and the source and documentation is <a href="http://amnesia.codeplex.com/">hosted on Codeplex</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/exo-suite-and-client-scripts-on-github">The Exo-suite (and Client Scripts on Github)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-07T19:07:12-05:00" pubdate data-updated="true">Dec 7<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Off and on at <a href="http://vc3.com/">work</a> over the last year or so I have been working on an open-source project called <a href="http://exoweb.codeplex.com/">ExoWeb</a>, as well as supporting projects called <a href="http://exograph.codeplex.com/">ExoGraph</a> and ExoRule.  ExoWeb and ExoGraph are hosted on <a href="http://codeplex.com/">Codeplex</a>, though they are somewhat stale at this point.</p>

<p>Before I go any farther I&#8217;ll give you (and future self) my take on the purpose of these projects.</p>

<h3>ExoGraph</h3>

<p>&#8230;is essentially an enabler.</p>

<p>From the codeplex site:</p>

<blockquote><p>ExoGraph is a graph library that leverages type information to optimize graph operations and notifications. The library exposes type-level events for object initialization, property retrieval, property path changes, and custom domain events within a graph context.</p></blockquote>

<p>This doesn&#8217;t sound very useful in and of itself, right?  Well, it&#8217;s not supposed to be.  It&#8217;s an enabler, remember?  That&#8217;s where ExoWeb and ExoRule come in&#8230;</p>

<h3>ExoRule</h3>

<p>&#8230;is a rules framework that leverages ExoGraph.  That is all for now.</p>

<h3>ExoWeb</h3>

<p>&#8230;is a JavaScript framework, basically.  It also relies on a supporting server-side web request handler as well as a working ExoGraph implementation.</p>

<p>From the codeplex site, ExoWeb&#8230;</p>

<blockquote><p>&#8230;aims to provide a rich JavaScript object model, intuitive UI code based on the fundamental languages of the web (HTML, CSS, and JavaScript), model- and UI-driven validation, and seamless synchronization of changes between client and server.</p></blockquote>

<p>That may not be crystal-clear, but fortunately you can browse the source, which is what I really want to write about anyway.</p>

<p>The JavaScript source is now <a href="http://github.com/mattheyan/exoweb">hosted on Github</a>.  If you take a look at the <a href="http://exoweb.codeplex.com/SourceControl/list/changesets">source on Codeplex</a> you&#8217;ll notice that there are 8 script files: exoweb.js, exoweb.model.js, exoweb.mapper.js, exoweb.view.js, exoweb.ui.js, exoweb.mock.js, exoweb.jquery.js, and start.debug.js.  The source on Github, however, has many more script files as well as specs (using jasmine) and a build process (using rake) that produces the scripts listed above.  It is loosely modeled after the <a href="http://github.com/jquery/jquery">jquery source</a>.</p>

<p>I have a few goals in hosting the project on Github.</p>

<ol>
<li><p>Isolate classes and related functions in order to make it easier to manage, illuminate code structure, improve architecture and design, and limit dependencies.</p></li>
<li><p>Allow for (hopefully) isolated testing of individual classes and functions.</p></li>
<li><p>Isolate the bulk of the code which is not dependent on any particular JavaScript library or server-side technology.</p></li>
<li><p>Take advantage of github&#8217;s popularity in open source software collaboration, and&#8230;well, I just like Github.</p></li>
</ol>


<p>At the time of this writing the project produces the destination scripts that more or less match the scripts in the original project (not the ones on codeplex, they&#8217;re old).  Also, a few of the source files have corresponding specs that pass, using <a href="http://nodejs.org/">nodejs</a> to run them.</p>

<p>Finally, in writing the build script, I got the chance to learn a little <a href="http://rake.rubyforge.org/">rake</a> (ruby make), which I highly recommend.</p>

<p>One of my other goals is to create working ExoGraph/ExoWeb implementations for django and rails.  The beginnings of the django implementation is currently <a href="http://github.com/mattheyan/django-exoweb">hosted on Github</a> as well.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/installing-virtualbox-guest-addition">Installing VirtualBox Guest Additions</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-30T17:19:32-04:00" pubdate data-updated="true">Sep 30<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>First, a disclaimer:  you may not find this post useful unless you are interested in virtualbox or virtualization.  Also, there are plenty of other blogs that will tell you how to install the guest additions.  This is my personal reference.</p>

<p>According to the <a href="http://www.virtualbox.org/wiki/VirtualBox">virtualbox wiki</a>, virtualbox is <em>the only professional-quality virtualization solution that is also Open Source Software</em>.  Alright, a big +1 for open source!  Not that I have ever cracked open the source&#8230; :P</p>

<p>Another big plus for me is that it is cross-platform.  I use windows and linux machines, so this is very important to me.</p>

<p><em>As an aside, VMware player appears to also be somewhat cross-platform (windows and linux, no OSX).  I have used it as well, but I feel better about my experience with virtualbox.  However, I don&#8217;t have any real solid reasons to explain why.  Feel free to try to change my mind if you must&#8230;</em></p>

<p>So what are the guest additions?  From the <a href="http://www.virtualbox.org/wiki/VirtualBox">wiki</a>, it is <em>special software that can be installed inside Windows, Linux and Solaris virtual machines to improve performance and make integration much more seamless</em>.  Things like <em>mouse pointer integration and arbitrary screen solutions (e.g. by resizing the guest window)</em>.  That&#8217;s the kicker for me.  I install them in my linux guests so that the guest resolution will adjust to match the host window.</p>

<p>Anyway, the point of this is how to actually install them.  <a href="http://digitizor.com/2009/05/26/how-to-install-virtualbox-guest-additions-for-a-linux-guest/">Here is a link</a> to a good set of instructions in case you don&#8217;t find these sufficient.</p>

<p>First, mount the guest additions &#8220;disc&#8221; from the host window&#8217;s menu:  Devices > Install Guest Additions.</p>

<p><img src="http://endlessobsession.com/wp-content/uploads/2010/09/install_guest_additions-300x185.png" alt="Mount Guest Additions Menu" /></p>

<p>Now you should see the disc mounted in nautilus.  The next step is to copy the appropriate file to your home folder (or some other location on the guest machine).</p>

<ul>
<li>cp /media//VBoxLinuxAdditions-x86.run .</li>
</ul>


<p>Now, make the file runnable.</p>

<ul>
<li>sudo chmod +x VBoxLinuxAdditions-x86.run</li>
</ul>


<p>Finally, run the installer.</p>

<ul>
<li>sudo ./VBoxLinuxAdditions-x86.run</li>
</ul>


<p>That&#8217;s all!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/resize-jquery-dialog">Resize jQuery Dialog</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-08-16T18:00:24-04:00" pubdate data-updated="true">Aug 16<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>If you ever need to resize and reposition a jQuery dialog, the following script should do the trick:</p>

<ul>
<li><p>function setDialogSize($dialogEl, width, height) {</p></li>
<li><p>$dialogEl.dialog(&#8220;option&#8221;, &#8220;width&#8221;, width);</p></li>
<li><p>$dialogEl.dialog(&#8220;option&#8221;, &#8220;height&#8221;, height);</p></li>
<li><p>$dialogEl.dialog(&#8220;option&#8221;, &#8220;position&#8221;, $dialogEl.dialog(&#8220;option&#8221;, &#8220;position&#8221;));</p></li>
<li><p>}</p></li>
</ul>


<p>If you change a UI component&#8217;s option it should respond by updating immediately to reflect the change.  If it doesn&#8217;t, it&#8217;s a bug.  I read that somewhere :)</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/ie-unknown-runtime-error">IE &#8220;Unknown Runtime Error&#8221;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-07-28T11:58:58-04:00" pubdate data-updated="true">Jul 28<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I received a wonderful error from Internet Explorer today:  &#8220;Unknown runtime error&#8221;.</p>

<p>It seemed to be an Internet Explorer issue only, since it worked fine in other browsers.  I was able to track this down to where the innerHTML for an element was being set.</p>

<p>I found out <a href="http://piecesofrakesh.blogspot.com/2007/02/ies-unknown-runtime-error-when-using.html">here</a> that the problem was because my HTML was invalid.  As the poster notes, IE is actually enforcing <a href="http://www.w3.org/TR/html4/struct/text.html#h-9.3.1">the spec</a>, which is good.  However, the error message is completely worthless, which is not good.  Sadly, this is what I expect from IE.</p>

<p>In his example, he was attempting to inject an &#8220;li&#8221; into a &#8220;p&#8221;, which is obviously invalid.  He noted that IE&#8217;s behavior seemed to be inconsistent, since it was ok with an &#8220;ul&#8221;.  However, in my case I found that injecting an &#8220;ul&#8221; into a &#8220;p&#8221; caused the same problem.  This may have been changed recently, a la Windows Update&#8230;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/getting-things-done-smart-lists">Getting Things Done: Smart Lists</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-07-27T18:38:48-04:00" pubdate data-updated="true">Jul 27<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>Smart Lists</h3>

<p>In <a href="http://endlessobsession.com/2010/07/21/getting-things-done/">my first gtd post</a>, I described some of the strategies that I employ to help me get things done.  <a href="http://rememberthemilk.com">Remember the Milk</a> has become a increasingly large part of that.  If you&#8217;re reading this and you don&#8217;t know about it, you should check it out!</p>

<p>Anyway, one thing that I discovered recently that has changed the way I use RTM is <a href="http://www.rememberthemilk.com/help/answers/smartlists/">smart lists</a>.  Seriously, I&#8217;m kicking myself for not knowing about this already!  Basically, smart lists are a way to save a search for later use, or, for the techies, a stored query.</p>

<p>This may not seem like a big deal, but for me it is HUGE.  This means that I can organize my tasks logically without having to worry about the different views that I might want to simulate.</p>

<p>To give you an idea of how this helps, here is my list of current smart lists (subject to change&#8230;a lot):</p>

<ul>
<li><p><strong><em>Big Projects</em></strong>:  Things that are going to take a long time.  These don&#8217;t normally show up on my day-to-day activity.  It allows me to get an idea of high-level things that I&#8217;m working towards.  There also shouldn&#8217;t be a lot of this due at the same time.</p></li>
<li><p><strong><em>Blog</em></strong>:  Uses a &#8220;blog&#8221; tag so that I can track blogging stuff in separate logical lists (work, personal, etc&#8230;)</p></li>
<li><p><strong><em>Important</em></strong>:  Priority 1 tasks from all lists.  This list should stay pretty sparse.</p></li>
<li><p><strong><em>No Due</em></strong>:  Items that have not been assigned a due date are probably tentative or I may need to get rid of them.</p></li>
<li><p><strong><em>No Estimate</em></strong>:  Since some of my lists take time estimates in to account, it pays for me to move tasks out of this list.</p></li>
<li><p><strong><em>No Priority</em></strong>:  Much like no due, these tasks may need to be cleaned up.</p></li>
<li><p><strong><em>Quick and Easy</em></strong>:  Time estimate is low.  This is ordered by due date, so I can use it to pick up easy tasks when I have a little time to spare.</p></li>
<li><p><strong><em>This Week</em></strong>:  Everything that is due this week, except for today.</p></li>
<li><p><strong><em>Today</em></strong>:  Self explanatory</p></li>
<li><p><strong><em>Work Day</em></strong>:  This is the same as &#8220;Today&#8221;, except filtered by an &#8220;am&#8221; tag that I use to indicate things that should be or can be done during the work day.  Walking the dog is not one of these, if I had a dog that is&#8230;</p></li>
</ul>


<p>I have now switched to using the &#8220;Work Day&#8221; list only for &#8220;I Forgot the Milk&#8221; on my work computer.  This way, I don&#8217;t have to mentally filter out tasks that I can&#8217;t do until I get home.</p>

<p>I have yet to realize the full potential of smart lists, but I know that they will make things run a lot smoother for me.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/sequenced-sql-records">Sequenced SQL Records</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-07-27T18:17:20-04:00" pubdate data-updated="true">Jul 27<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>How to sequence values in a table.  The non-so-elegant solution&#8230;</h3>

<p>Imagine you have a table that contains records with a foreign key (string, int, guid, etc&#8230;) and an index or sequence number, 1-3, so that there are three records for each foreign key value.  In another table you have any number of records that contain the same foreign key, as well as a value field (date, number, string, etc&#8230;) that can be sequenced in some logical fashion corresponding to the sequence 1-3 in the key table.  You mission (should you choose to accept it) is to get the values from the value table and join them to the corresponding sequence records in the key table.</p>

<p>What follows is the answer I arrived at late this afternoon.  Please let me know if you have a better way.</p>

<ul>
<li><p>declare @dates table(num varchar(9), date datetime)</p></li>
<li></li>
<li><p>insert into @dates</p></li>
<li><p>select &#8216;192837465&#8217;, cast(&#8216;1/3/2008&#8217; as datetime) union</p></li>
<li><p>select &#8216;192837465&#8217;, cast(&#8216;3/12/2003&#8217; as datetime) union</p></li>
<li><p>select &#8216;192837465&#8217;, cast(&#8216;5/22/2010&#8217; as datetime) union</p></li>
<li><p>select &#8216;192837465&#8217;, cast(&#8216;2/1/2004&#8217; as datetime)</p></li>
<li></li>
<li><p>declare @keys table(num varchar(9), sequence int)</p></li>
<li></li>
<li><p>insert into @keys</p></li>
<li><p>select &#8216;192837465&#8217;, 1 union</p></li>
<li><p>select &#8216;192837465&#8217;, 2 union</p></li>
<li><p>select &#8216;192837465&#8217;, 3</p></li>
<li></li>
<li><p>select</p></li>
<li><p>k.num,</p></li>
<li><p>k.sequence,</p></li>
<li><p>date = (select MIN(t.date) from (select top 1 date from @dates where num = k.num order by date desc) t)</p></li>
<li><p>from @keys k</p></li>
<li><p>where sequence = 1</p></li>
<li><p>union</p></li>
<li><p>select</p></li>
<li><p>k.num,</p></li>
<li><p>k.sequence,</p></li>
<li><p>date = (select MIN(t.date) from (select top 2 date from @dates where num = k.num order by date desc) t)</p></li>
<li><p>from @keys k</p></li>
<li><p>where sequence = 2</p></li>
<li><p>union</p></li>
<li><p>select</p></li>
<li><p>k.num,</p></li>
<li><p>k.sequence,</p></li>
<li><p>date = (select MIN(t.date) from (select top 3 date from @dates where num = k.num order by date desc) t)</p></li>
<li><p>from @keys k</p></li>
<li><p>where sequence = 3</p></li>
</ul>


<p>I union the key table 3 times, filtering by each sequence number.  In each sub-query, the value is obtained by selecting the top N values, filtered by the foreign key and ordered by their value (descending), and then getting the min value.</p>

<p>Kind of an odd-ball case, but I might find this humorous one day.  And Pete will laugh, because I laughed at my code.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/3/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/chrome-select-excessive-padding">Chrome select excessive padding</a>
      </li>
    
      <li class="post">
        <a href="/blog/should-you-write-awesome-code">Should you write awesome code?</a>
      </li>
    
      <li class="post">
        <a href="/blog/carolina-code-camp-2012-presentation">Carolina Code Camp 2012 Presentation</a>
      </li>
    
      <li class="post">
        <a href="/blog/learning-f-with-tdd-part-2">Learning F# with TDD: Part 2</a>
      </li>
    
      <li class="post">
        <a href="/blog/exoweb-type-loading-changes">ExoWeb type loading changes</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/mattheyan">@mattheyan</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'mattheyan',
            count: 0,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>


<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("BryanMatthews", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/BryanMatthews" class="twitter-follow-button" data-show-count="false">Follow @BryanMatthews</a>
  
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/mattheyan?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2012 - Bryan Matthews -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
