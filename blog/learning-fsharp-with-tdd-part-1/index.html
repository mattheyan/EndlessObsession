<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Learning F# with TDD: Part 1 - The Endless Obsession
    </title>
    <meta name="author" content="Bryan Matthews">
    <meta name="description" content="The personal blog of Bryan Matthews"><!-- Viewport and Media Queries: http://t.co/dKP3o1e -->
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="http://endlessobsession.com/" rel="canonical">
    <link href="/infinity-symbol.png" rel="icon">
    <link href="/atom.xml" rel="alternate" type="application/atom+xml" title="The Endless Obsession">
    <link href="/stylesheets/normalize-3.0.2.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/theme-2.0.css" media="screen, projection" rel="stylesheet" type="text/css">
  </head>
  <body>
    <div class="container">
      <header role="banner">
        <hgroup>
          <h1><a href="http://endlessobsession.com/">The Endless Obsession</a></h1><small>better code</small>
        </hgroup>
        <nav role="navigation">
          <ul>
            <li><a href="http://endlessobsession.com/">Home</a></li>
            <li><a href="http://endlessobsession.com/about" rel="author">About</a></li>
            <li><a href="http://endlessobsession.com/blog/archives">Archives</a></li>
          </ul>
          <form action="http://google.com/search">
            <fieldset role="search">
              <input type="hidden" name="q" value="site:http://endlessobsession.com/">
              <input type="text" name="q" results="0" placeholder="Search" class="search">
            </fieldset>
          </form>
        </nav>
        <nav role="complementary">
          <ul>
            <li><a href="/atom.xml" title="RSS">RSS</a></li>
            <li><a href="https://github.com/mattheyan" title="Github: mattheyan" target="_blank">Github</a></li>
            <li><a href="https://twitter.com/BryanMatthews" title="Twitter: @BryanMatthews" target="_blank">Twitter</a></li>
          </ul>
        </nav>
      </header>
      <main>
        <article>
          <header>
            <h2 class="title">Learning F# with TDD: Part 1</h2>
            <div class="byline"><span class="author">Bryan Matthews</span>
              <time datetime="2011-08-21" pubdate>Aug 21st, 2011</time>
            </div>
          </header>
          <section><p>I decided to dive into a few languages I’ve been meaning to learn by way of the <a href="http://osherove.com/tdd-kata-1/">calculator kata</a>.  First up:&nbsp;F#.</p>
<p>First, some&nbsp;prerequisites.</p>
<ul>
<li>F#, obviously.  This comes with <span class="caps">VS</span> 2010 so you probably already have&nbsp;it.</li>
</ul>
<ul>
<li>We’re doing <span class="caps">TDD</span>, so we need some sort of testing framework.  I decided to go with <a href="http://www.navision-blog.de/2009/11/08/getting-started-with-naturalspec/">NaturalSpec</a>.  This means we’ll need to download the package from <a href="https://github.com/forki/NaturalSpec">github</a>, build it, and also download and install <a href="http://www.nunit.org/index.php?p=download">NUnit</a> and <a href="http://testdriven.net/default.aspx">TestDriven.<span class="caps">NET</span></a>.  The author has a good <a href="http://www.navision-blog.de/2009/11/08/getting-started-with-naturalspec/">blog post</a> on setting up and running the test&nbsp;project.</li>
</ul>
<p>Keep in mind that I’m extremely new to the language, so the code I ended up with probably doesn’t reflect what a seasoned F# programmer would write.  I tried to follow conventions that I could pick out as much as possible.  The first part of the kata is an add function.  Pretty simple.  In the interest of not getting bogged down in one language I didn’t take if very far, so I will only be able to make very broad observations at this&nbsp;point.</p>
<p>Two positive things that I took away from it:  pattern matching and&nbsp;pipe.</p>
<p>Pattern matching is something that I knew was popular in functional programming circle but had never experienced first hand.  Now that I have a taste of it I think it’s a handy abstraction, but I have a feeling that I haven’t even begun to scratch the surface of what it could&nbsp;mean.</p>
<pre><code>let addNumbers (numbers : List) =
    match numbers.Length with
    | 0 -&gt; 0
    | 1 -&gt; numbers.[0]
    | _ -&gt; numbers |&gt; Seq.reduce (fun a b -&gt; a + b)
</code></pre><p>This is simply an alternative form of the familiar if-else branching logic, nothing special really, but it is pleasantly&nbsp;terse.</p>
<p>Pipe is even more exciting.  Take the following for&nbsp;example.</p>
<pre><code>numbers.Split &#39;,&#39; |&gt; Array.toList |&gt; List.map int |&gt; addNumbers
</code></pre><p>Using the pipe operator (that’s “|&gt;”) you can stream a value through a series of transformations, in this case splitting the string, converting the array to a list, converting the items in the list to integers, and finally passing the list to a method called&nbsp;“addNumbers”.</p>
<p>In any other language this would probably read similarly if your transformations are all instance methods, however, that breaks down as soon as you have to use global or static/class methods.  The pipe form always reads nicely from the beginning to the end.  Of course, this example could be a little simpler since our function can technically accept an array as its&nbsp;argument.</p>
<p>To be&nbsp;continued…</p>
</section>
          <section>
            <h2>Comments</h2>
            <div id="disqus_thread"></div>
          </section>
        </article>
        <footer>
          <script type="text/javascript" src="/javascripts/disqus.js?v=2.0.0&amp;name=endlessobsession"></script><small>Copyright &copy; 2015 - Bryan Matthews &mdash; powered by&nbsp;<a href="https://github.com/jnordberg/wintersmith">Wintersmith</a></small>
          <script type="text/javascript" src="/javascripts/analytics.js?v=1.0.0&amp;id=UA-17782995-1"></script>
        </footer>
      </main>
    </div>
  </body>
</html>