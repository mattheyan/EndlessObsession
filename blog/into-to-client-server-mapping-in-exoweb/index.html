<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Intro to Client-Server Mapping in ExoWeb - The Endless Obsession
    </title>
    <meta name="author" content="Bryan Matthews">
    <meta name="description" content="The personal blog of Bryan Matthews"><!-- Viewport and Media Queries: http://t.co/dKP3o1e -->
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="http://endlessobsession.com/" rel="canonical">
    <link href="/infinity-symbol.png" rel="icon">
    <link href="/atom.xml" rel="alternate" type="application/atom+xml" title="The Endless Obsession">
    <link href="/stylesheets/normalize-3.0.2.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/theme-2.0.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/tomorrow.css" media="screen, projection" rel="stylesheet" type="text/css">
  </head>
  <body>
    <div class="container">
      <header role="banner">
        <hgroup>
          <h1><a href="http://endlessobsession.com/">The Endless Obsession</a></h1><small>better code</small>
        </hgroup>
        <nav role="navigation">
          <ul>
            <li><a href="http://endlessobsession.com/">Home</a></li>
            <li><a href="http://endlessobsession.com/about" rel="author">About</a></li>
            <li><a href="http://endlessobsession.com/blog/archives">Archives</a></li>
          </ul>
          <form action="http://google.com/search">
            <fieldset role="search">
              <input type="hidden" name="q" value="site:http://endlessobsession.com/">
              <input type="text" name="q" results="0" placeholder="Search" class="search">
            </fieldset>
          </form>
        </nav>
        <nav role="complementary">
          <ul>
            <li><a href="/atom.xml" title="RSS">RSS</a></li>
            <li><a href="https://github.com/mattheyan" title="Github: mattheyan" target="_blank">Github</a></li>
            <li><a href="https://twitter.com/BryanMatthews" title="Twitter: @BryanMatthews" target="_blank">Twitter</a></li>
          </ul>
        </nav>
      </header>
      <main>
        <article>
          <header>
            <h2 class="title">Intro to Client-Server Mapping in ExoWeb</h2>
            <div class="byline"><span class="author">Bryan Matthews</span>
              <time datetime="2011-01-10" pubdate>Jan 10th, 2011</time>
            </div>
          </header>
          <section><p>As a follow up to my <a href="/blog/www.google.com">Brief Introduction to ExoWeb</a>, I would like to go into more detail about the communications between client and&nbsp;server.</p>
<p>The client interacts with the server in two basic&nbsp;ways.</p>
<ol>
<li><p>Pulling information: type and instance&nbsp;data.</p>
</li>
<li><p>Pushing information: changes to the model and/or instructions to do&nbsp;something.</p>
</li>
</ol>
<p>The first type, pulling information, is pretty straightforward. Type information doesn’t change (frequently) so it is actually cached on the client if possible. Querying for instance data is similar to querying a database. You request an object of a particular type with a particular id, but you can also include a set of paths that tell the services what additional related data you are interested in. The primary component of a query might look something like&nbsp;this.</p>
<pre><code class="lang-javascript">{ from: <span class="string">"Person"</span>, id: <span class="string">"1"</span>, and: [<span class="string">"this.Additional.Properties.To.Load"</span>] }
</code></pre>
<p>The second type, pushing information, gets a little more interesting. If you’re going to sync data between two disconnected systems there are two primary approaches that you might take. First, you could send simple data from point A to point B, manipulate it, then send it back from point B to point A in the same form. As you could imagine this can get pretty expensive and tedious. Of course, you might just send the portions of data that have changed to cut down on overhead. The bigger problem, I think, is that you don’t really know what has happened unless you do full graph comparisons. Another approach is to keep track of <em>changes</em> as they occur and send those back and forth. This is what ExoWeb&nbsp;does.</p>
<pre><code class="lang-javascript">changes: [ { type: <span class="string">"ValueChange"</span>, instance: { id: <span class="string">"1"</span>, type: <span class="string">"Person"</span> }, property: <span class="string">"FirstName"</span>, oldValue: <span class="string">"Rob"</span>, newValue: <span class="string">"Robert"</span> }, ... } ]
</code></pre>
<p>The client can also raise events, for example “save”, a built-in event. In response, the server can send back additional changes to the&nbsp;model.</p>
<pre><code class="lang-javascript">changes: [ { type: <span class="string">"Save"</span>, idChanges: [ { type: <span class="string">"Person"</span>, from: <span class="string">"?4"</span>, to: <span class="string">"644"</span> } ] }, ... ]
</code></pre>
<p>The payload isn’t limited to data. It can also include conditions, for example, permissions, or invalid data conditions. More on that&nbsp;later.</p>
<p>This has been a very basic introduction to the way client-server communication works in ExoWeb. Look out for more updates in the&nbsp;future.</p>
</section>
          <section>
            <h2>Comments</h2>
            <div id="disqus_thread"></div>
          </section>
        </article>
        <footer>
          <script type="text/javascript" src="/javascripts/disqus.js?v=2.0.0&amp;name=endlessobsession"></script><small>Copyright &copy; 2015 - Bryan Matthews &mdash; powered by&nbsp;<a href="https://github.com/jnordberg/wintersmith">Wintersmith</a></small>
          <script type="text/javascript" src="/javascripts/analytics.js?v=1.0.0&amp;id=UA-17782995-1"></script>
        </footer>
      </main>
    </div>
  </body>
</html>