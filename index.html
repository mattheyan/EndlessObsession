<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>The Endless Obsession
    </title>
    <meta name="author" content="Bryan Matthews">
    <meta name="description" content="The personal blog of Bryan Matthews"><!-- Viewport and Media Queries: http://t.co/dKP3o1e -->
    <meta name="HandheldFriendly" content="True">
    <meta name="MobileOptimized" content="320">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="http://endlessobsession.com/" rel="canonical">
    <link href="/infinity-symbol.png" rel="icon">
    <link href="/atom.xml" rel="alternate" type="application/atom+xml" title="The Endless Obsession">
    <link href="/stylesheets/normalize-3.0.2.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/layout.css?v=1.0.0" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/theme.css?v=1.0.0" media="screen, projection" rel="stylesheet" type="text/css">
  </head>
  <body>
    <header role="banner">
      <hgroup>
        <h1><a href="http://endlessobsession.com/">The Endless Obsession</a></h1><small>better code</small>
      </hgroup>
      <nav role="complementary">
        <ul>
          <li><a href="/atom.xml" title="RSS">RSS</a></li>
          <li><a href="https://github.com/mattheyan" title="Github: mattheyan" target="_blank">Github</a></li>
          <li><a href="https://twitter.com/BryanMatthews" title="Twitter: @BryanMatthews" target="_blank">Twitter</a></li>
        </ul>
      </nav>
    </header>
    <nav role="navigation">
      <ul>
        <li><a href="http://endlessobsession.com/">Home</a></li>
        <li><a href="http://endlessobsession.com/about" rel="author">About</a></li>
        <li><a href="http://endlessobsession.com/blog/archives">Archives</a></li>
      </ul>
      <form action="http://google.com/search">
        <fieldset role="search">
          <input type="hidden" name="q" value="site:http://endlessobsession.com/">
          <input type="text" name="q" results="0" placeholder="Search" class="search">
        </fieldset>
      </form>
    </nav>
    <main>
      <section>
        <article>
          <header>
            <time datetime="2013-10-16" pubdate>Oct 16th, 2013</time>
            <h2><a rel="article" href="/blog/octopress-post-excerpts-and-couldnt-parse-yaml">Octopress post excerpts and 'couldn't parse YAML'</a></h2>
          </header>
          <section><p>This evening I noticed a syntax error in my blog’s <span class="caps">ATOM</span> feed. The error seemed to stem from the text in one of my more recent posts, what exactly I didn’t bother to determine. However, I also noticed that the post summaries were rather large and didn’t appear to do a good job of summarizing post content in any case. So, it seemed the best thing to do was to figure out how I could get Octopress to use a better summary and kill 2 birds with one&nbsp;stone.</p>
<p>I discovered that the <span class="caps">YAML</span> that lives in each post’s header (more on that later) <a href="https://github.com/imathis/octopress/issues/1146">could include an “excerpt” property</a> where I could write my own summary of the&nbsp;post.</p>
<p>For example, here’s the header of this&nbsp;post:</p>
<pre><code>---
layout: post
title: &quot;Octopress post excerpts and &#39;couldn&#39;t parse YAML&#39;&quot;
date: 2013-10-15 21:14
excerpt: This evening I noticed a syntax error in my blog&#39;s ATOM feed. The error seemed to stem from the text in one of my more recent posts, what exactly I didn&#39;t bother to determine. However, I also noticed that the post summaries were rather large and didn&#39;t appear to do a good job of summarizing post content in any case. So, it seemed the best thing to do was to figure out how I could get Octopress to use a better summary and kill 2 birds with one stone.
comments: true
categories: 
---
</code></pre><p>This worked so well that I promptly went through all of my posts and threw up some quick excerpts without much thought. Unfortunately I soon ran into an error: <a href="https://github.com/imathis/octopress/issues/57">‘parse’: couldn’t parse <span class="caps">YAML</span></a>.</p>
<p>I hadn’t thought about it until now, but the configuration at the head of each post is <span class="caps">YAML</span>. I don’t know much about YAML, but apparently something was wrong with one of my&nbsp;excerpts.</p>
<p>Fortunately I was able to track it down to the “:” character, which is somehow significant in <span class="caps">YAML</span> syntax. <a href="http://yamllint.com/"><span class="caps">YAML</span> Lint</a> was an invaluable&nbsp;resource.</p>

          </section>
        </article>
      </section>
      <section>
        <article>
          <header>
            <time datetime="2013-01-03" pubdate>Jan 3rd, 2013</time>
            <h2><a rel="article" href="/blog/file-dot-openwrite-gotcha">File.OpenWrite Gotcha</a></h2>
          </header>
          <section><p>Recently I ran into an odd problem when writing a text file to disk using .<span class="caps">NET</span>’s <code>File.OpenWrite</code>.</p>
<pre><code>using (var fileWriter = new StreamWriter(File.OpenWrite(outputFilePath)))
{
    fileWriter.WriteLine(&quot;abc&quot;);
}
</code></pre><p>You might expect that after executing this code the text in the file would be “abc”.  Not quite.  In my case I was sometimes seeing results like&nbsp;this…</p>
<pre><code>abc
some other text
</code></pre><p>…where “some other text” is the last bit of text in the file before&nbsp;writing.</p>
<p>It turns out that the <a href="http://msdn.microsoft.com/en-us/library/system.io.file.openwrite.aspx" title="System.IO.File.OpenWrite">documentation for File.OpenWrite</a> contains the&nbsp;answer.</p>
<blockquote>
<p>If you overwrite a longer string (such as “This is a test of the OpenWrite method”) with a shorter string (such as “Second run”), the file will contain a mix of the strings (“Second runtest of the OpenWrite&nbsp;method”).</p>
</blockquote>
<p><code>OpenWrite</code> behaves much like the dreaded insert mode in word processors and text&nbsp;editors.</p>
<p>The solution that I chose is pretty simple.  Just <a href="http://stackoverflow.com/questions/2695444/clearing-content-of-text-file-using-c-sharp" title="Stack Overflow - Clearing content of text file using C#">clear the file’s contents</a>&nbsp;beforehand.</p>

          </section>
        </article>
      </section>
      <section>
        <article>
          <header>
            <time datetime="2012-11-28" pubdate>Nov 28th, 2012</time>
            <h2><a rel="article" href="/blog/chrome-select-excessive-padding">Chrome select excessive padding</a></h2>
          </header>
          <section><p>Recently I noticed that dropdowns (&lt;select&gt;) in chrome suddenly had an excessive amount of padding on my Windows 7 <span class="caps">PC</span>.  This is what it looked&nbsp;like.</p>
<p><img src="/images/select-pad.png" alt="Screenshot of excessive padding"></p>
<p>I did some digging on the web and found a <a href="http://code.google.com/p/chromium/issues/detail?id=146745">chromium bug report</a>.</p>
<p>One of the comments near the end of the page gives the solution to the&nbsp;problem.</p>
<blockquote>
<p>Actually that is the problem. Windows has a service called “Tablet <span class="caps">PC</span> Input Service”. When this is running Windows 7 thinks it’s a tablet instead of a desktop. Once I turned this off and restarted chrome the drop down spacing is correct. But as soon as I turn the service back on the extra spacing comes&nbsp;back.</p>
</blockquote>
<p>Sure enough, there was a service running on my laptop called “Tablet <span class="caps">PC</span> Input&nbsp;Service”.</p>
<p><img src="/images/tablet-pc-input-service.png" alt="Screenshot of excessive padding"></p>
<p>…and when I stopped the service <em><strong>and restarted chrome</strong></em>, the padding went back to&nbsp;normal.</p>
<p><img src="/images/select-nopad.png" alt="Screenshot of excessive padding"></p>
<p>My laptop is a touchscreen and turning off this service doesn’t seem to affect touchscreen functionality.  Don’t forget to change the service startup type to “Manual” or “Disabled” so that it doesn’t start back up the next time you log&nbsp;on.</p>
<p>This <a href="http://productforums.google.com/forum/#!topic/chrome/EIgNjmURGbo">Google Groups post</a> might also be&nbsp;relevant.</p>

          </section>
        </article>
      </section>
      <section>
        <article>
          <header>
            <time datetime="2012-06-29" pubdate>Jun 29th, 2012</time>
            <h2><a rel="article" href="/blog/should-you-write-awesome-code">Should you write awesome code?</a></h2>
          </header>
          <section><p>I ran across this provacative post on the tubes: <a href="http://jhovgaard.net/how-i-stopped-writing-awesome-code">How I stopped writing awesome code</a>. The following is my reaction and thoughts (hastily thrown together). Go to the link and read it first or what follows probably won’t make much&nbsp;sense.</p>
<p>I certainly agree that some of the practices he mention can have little benefit in the short term. Many people pointed out in the comments that the short term gains of “trimming the fat” can come back to haunt you on long term projects, and I’ll second&nbsp;that.</p>
<p>Someone in the comments described how they have frequently inherited projects where it looked like the developer(s) had this mindset and it usually turned out to be a mess/headache to maintain. I think the mental burden he described to understand concepts/tools like <span class="caps">IOC</span>, ORMs, etc. is only one side of the coin. The other side is that not following best practices and using powerful tools that are available can be just as frustrating to a developer who inherits the project (or even your future self), especially in the event that the app has to be significantly enhanced or changed. That said, I have also had the experience where I found that I had over-engineered a project too early and ended up “stuck” with some of those poor decisions later on. I think the key is to not try to over-engineer too early, but rather follow only tried and true best practices that require little added effort and could yield future gains, improve and refactor as the project grows, and never be satisfied with where things are today. For what it’s worth, in the case where I made regrettable engineering decisions early on, I was also deviating from common/best practices, i.e. trying to be&nbsp;clever.</p>
<p>As for F12, I don’t think you can ever really get around the limitations of the <span class="caps">IDE</span> with respect to interfaces and abstract/virtual members. I have been in the habit lately of using Shift+F12 (symbol search) rather than “Go to Definition” unless I know for sure that there is a single implementation of the member that I’m trying to get at. Resharper is also a good choice to improve the IDE experience. As irritating as F12 can be, I wouldn’t use that as reason to avoid using useful language&nbsp;features.</p>
<p>Finally, to tie it together with an anecdote: I can think of two projects off the top of my head that seem to fall into the too extremes. One was hastily thrown together by a freelance developer to meet a client need. The source control wasn’t hosted on a popular <span class="caps">OSS</span> hosting services, it was just offered up for download on the blog.  There were no unit tests.  Most of the code was in a single class file with a number of supporting classes that were essentially just data containers.  On the one hand, I ended up having to significantly enhance that project and found it to be very frustrating and painful.  On the other hand, if he hadn’t thrown it together it may be that nothing like it would have existed at all and I would have been forced to start from square 1 (and making my own mistakes as a result).  The other project was a highly engineered and conformed to a highly detailed open specification, complete with interfaces, IOC, and unit tests galore.  On the one hand, when I discovered a bug I was able to easily verify the bug via unit test, fix it, and see it go green.  On the other hand, the project is not very active now (has been somewhat superseded by other technology) so you could argue that the effort was&nbsp;wasted.</p>
<p>Its all about&nbsp;balance…</p>
<p>Also, someone pointed out that its possible to write tests as <span class="caps">UI</span> acceptance tests that actually interact with the web browser (using Selenium) and mimic user behavior. I happen to use WatiN instead in my day-to-day, but what’s important is that you can verify the behavior that your clients are going to be looking for in an automated fashion. Do&nbsp;it!</p>
<p>Thanks to Jonas for provoking critical thought!&nbsp;:)</p>

          </section>
        </article>
      </section>
      <section>
        <article>
          <header>
            <time datetime="2012-05-26" pubdate>May 26th, 2012</time>
            <h2><a rel="article" href="/blog/carolina-code-camp-2012-presentation">Carolina Code Camp 2012 Presentation</a></h2>
          </header>
          <section><p>Recently I co-presented with <a href="http://bobbydimmick.com/">Bobby Dimmick</a> at the annual <a href="http://codecamp.developersguil1d.org/">Carolina Code Camp</a>, put on by the Enterprise Developers Guild of Charlotte.  The event was wildly successful, with sold-out attendance and a day fully booked with&nbsp;speakers.</p>
<p><a href="http://www.flickr.com/photos/arturask/sets/72157629645140924/with/7162456222/">Pictures from the&nbsp;event</a></p>
<p>Our presentation was entitled “Building rich, model-centric, event-driven web apps using <span class="caps">EF</span>, Razor <span class="amp">&amp;</span> open source”.  The approach we took was to build a demo application from the ground up, and document the process so that it was reproducible.  The app is hosted at <a href="http://todoapp.exosuite.com">todoapp.exosuite.com</a> and the walkthrough is at <a href="http://todoapp.exosuite.com/walkthrough">todoapp.exosuite.com/walkthrough</a>.</p>
<p><img src="/images/todoapp.png" alt="Screenshot"></p>
<p>You can build the app yourself by following the walkthrough.  I promise, I did it many times!&nbsp;:)</p>

          </section>
        </article>
      </section>
      <section>
        <article>
          <header>
            <time datetime="2012-01-12" pubdate>Jan 12th, 2012</time>
            <h2><a rel="article" href="/blog/learning-f-with-tdd-part-2">Learning F# with TDD: Part 2</a></h2>
          </header>
          <section><p><a href="http://endlessobsession.com/2011/08/21/learning-fsharp-with-tdd-part-1/">Last time</a> I talked about setting up F# testing using NUnit, TestDriven.Net, and NaturalSpec.  This time around I’ll elaborate a little bit on the testing aspects, and also talk about active&nbsp;patterns.</p>
<!--more-->

            <p><a rel="more" href="/blog/learning-f-with-tdd-part-2">Continue reading</a></p>
          </section>
        </article>
      </section>
      <section>
        <article>
          <header>
            <time datetime="2011-12-02" pubdate>Dec 2nd, 2011</time>
            <h2><a rel="article" href="/blog/exoweb-type-loading-changes">ExoWeb type loading changes</a></h2>
          </header>
          <section><p>I recently <a href="http://groups.google.com/group/exosuite/browse_thread/thread/83ed447767348b75">posted a message</a> to the ExoSuite Google Group in regards to type loading in&nbsp;ExoWeb.</p>

            <p><a rel="more" href="/blog/exoweb-type-loading-changes">Continue reading</a></p>
          </section>
        </article>
      </section>
      <section>
        <article>
          <header>
            <time datetime="2011-08-21" pubdate>Aug 21st, 2011</time>
            <h2><a rel="article" href="/blog/learning-fsharp-with-tdd-part-1">Learning F# with TDD: Part 1</a></h2>
          </header>
          <section><p>I decided to dive into a few languages I’ve been meaning to learn by way of the <a href="http://osherove.com/tdd-kata-1/">calculator kata</a>.  First up:&nbsp;F#.</p>
<p>First, some&nbsp;prerequisites.</p>
<ul>
<li>F#, obviously.  This comes with <span class="caps">VS</span> 2010 so you probably already have&nbsp;it.</li>
</ul>
<ul>
<li>We’re doing <span class="caps">TDD</span>, so we need some sort of testing framework.  I decided to go with <a href="http://www.navision-blog.de/2009/11/08/getting-started-with-naturalspec/">NaturalSpec</a>.  This means we’ll need to download the package from <a href="https://github.com/forki/NaturalSpec">github</a>, build it, and also download and install <a href="http://www.nunit.org/index.php?p=download">NUnit</a> and <a href="http://testdriven.net/default.aspx">TestDriven.<span class="caps">NET</span></a>.  The author has a good <a href="http://www.navision-blog.de/2009/11/08/getting-started-with-naturalspec/">blog post</a> on setting up and running the test&nbsp;project.</li>
</ul>
<p>Keep in mind that I’m extremely new to the language, so the code I ended up with probably doesn’t reflect what a seasoned F# programmer would write.  I tried to follow conventions that I could pick out as much as possible.  The first part of the kata is an add function.  Pretty simple.  In the interest of not getting bogged down in one language I didn’t take if very far, so I will only be able to make very broad observations at this&nbsp;point.</p>
<p>Two positive things that I took away from it:  pattern matching and&nbsp;pipe.</p>
<p>Pattern matching is something that I knew was popular in functional programming circle but had never experienced first hand.  Now that I have a taste of it I think it’s a handy abstraction, but I have a feeling that I haven’t even begun to scratch the surface of what it could&nbsp;mean.</p>
<pre><code>let addNumbers (numbers : List) =
    match numbers.Length with
    | 0 -&gt; 0
    | 1 -&gt; numbers.[0]
    | _ -&gt; numbers |&gt; Seq.reduce (fun a b -&gt; a + b)
</code></pre><p>This is simply an alternative form of the familiar if-else branching logic, nothing special really, but it is pleasantly&nbsp;terse.</p>
<p>Pipe is even more exciting.  Take the following for&nbsp;example.</p>
<pre><code>numbers.Split &#39;,&#39; |&gt; Array.toList |&gt; List.map int |&gt; addNumbers
</code></pre><p>Using the pipe operator (that’s “|&gt;”) you can stream a value through a series of transformations, in this case splitting the string, converting the array to a list, converting the items in the list to integers, and finally passing the list to a method called&nbsp;“addNumbers”.</p>
<p>In any other language this would probably read similarly if your transformations are all instance methods, however, that breaks down as soon as you have to use global or static/class methods.  The pipe form always reads nicely from the beginning to the end.  Of course, this example could be a little simpler since our function can technically accept an array as its&nbsp;argument.</p>
<p>To be&nbsp;continued…</p>

          </section>
        </article>
      </section>
      <section>
        <article>
          <header>
            <time datetime="2011-07-11" pubdate>Jul 11th, 2011</time>
            <h2><a rel="article" href="/blog/disable-the-audible-beep-in-mac-terminal">Disable the audible beep in Mac Terminal</a></h2>
          </header>
          <section><p>This was starting to get on my nerves.  I really don’t need a fancy sound clip to keep reminding me that I deleted as far as I can go.  I always do that, since I’m a bit <span class="caps">OCD</span>.  This one took me too long to find, mainly becuase of&nbsp;tabs.</p>
<p>Anyway, to disable the sounds, go to <strong><em>Terminal -&gt; Preferences -&gt; Settings (top tab group) -&gt; Advanced (inner tab group)</em></strong>, look for the “Bell” group label and uncheck the “Audible Bell” option.  Note that this is specific to a particular settings configuration/theme, so if you switch themes the behavior will&nbsp;change.</p>

          </section>
        </article>
      </section>
      <section>
        <article>
          <header>
            <time datetime="2011-07-08" pubdate>Jul 8th, 2011</time>
            <h2><a rel="article" href="/blog/tfs-rollback-2">Tfs Rollback</a></h2>
          </header>
          <section><p>Using the tf command line tool you can rollback all or part of a tfs checkin.  This is useful for two reasons: 1) If you at least want to roll back all changes in one or more file (not some changes in a file) then it saves you from having to manually revert changes (I’m a firm believer in not giving yourself the opportunity to goof up) , and 2) the checkin is actually marked as a <em>rollback</em>, so you don’t have to rely on checkin notes to identify it as&nbsp;such.</p>
<p>As a side note, based on what I’ve seen in the way that tfs represents changes, this rollback changeset is simply an add, edit or delete, with the additional information that it was a rollback of a prior change.  The original checkin is still in the tfs&nbsp;history.</p>
<p>To do a rollback, first open up the visual studio command prompt.  You should have a shortcut in your start menu.  On my machine the command is: <em><strong>%comspec% /k “”c:\Program Files (x86)\Microsoft Visual Studio 10.0\<span class="caps">VC</span>\vcvarsall.bat”” x86</strong></em>.</p>
<p>Here’s the help for tf rollback (using the command <em>tf rollback /?</em>):</p>
<p><span class="caps">TF</span> - Team Foundation Version Control Tool, Version&nbsp;10.0.30319.1</p>
<p>Copyright (c) Microsoft Corporation.  All rights&nbsp;reserved.</p>
<p>Rolls back the changes in a single or a range of&nbsp;changesets:</p>
<p>tf rollback /changeset:changesetfrom~changesetto [itemspec]&nbsp;[/recursive]</p>
<pre><code>        [/lock:none|checkin|checkout] [/version:versionspec]




        [/keepmergehistory] [/noprompt] [/login:username,[password]]
</code></pre><p>tf rollback /toversion:versionspec itemspec&nbsp;[/recursive]</p>
<pre><code>        [/lock:none|checkin|checkout] [/version:versionspec]




        [/keepmergehistory] [/noprompt] [/login:username,[password]]
</code></pre><p>Versionspec:</p>
<pre><code>Date/Time         D&quot;any .Net Framework-supported format&quot;




                  or any of the date formats of the local machine




Changeset number  Cnnnnnn




Label             Llabelname




Latest version    T




Workspace         Wworkspacename;workspaceowner
</code></pre><p>First, we need to make sure we are working within our&nbsp;workspace.</p>
<p><strong><em>cd&nbsp;path\to\workspace\root</em></strong></p>
<p>So, for example, we could rollback an entire&nbsp;changeset:</p>
<p><strong><em>tf rollback&nbsp;/changeset:12345</em></strong></p>
<p>Or, we can rollback a single item in the&nbsp;changeset:</p>
<p><strong><em>tf rollback /changeset:12345&nbsp;$/Path/To/Item</em></strong></p>
<p>There is also a login param that you can pass if&nbsp;needed:</p>
<p><strong><em>tf rollback /changeset:12345&nbsp;/login:domain\username,password</em></strong></p>
<p>Enjoy!</p>

          </section>
        </article>
      </section>
      <nav role="navigation">
        <ul>
          <li><a rel="archives" href="/blog/archives">Archives</a></li>
          <li><a rel="next" href="/blog/page/2/">Older</a></li>
        </ul>
      </nav>
    </main>
    <footer><small>Copyright &copy; 2015 - Bryan Matthews &mdash; powered by&nbsp;<a href="https://github.com/jnordberg/wintersmith">Wintersmith</a></small>
      <script type="text/javascript" src="/javascripts/analytics.js?v=1.0.0&amp;id=UA-17782995-1"></script>
    </footer>
  </body>
</html>